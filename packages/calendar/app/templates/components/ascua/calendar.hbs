{{on-press "escape" this.close}}

<app-calendar {{did-insert this.didCreate}} ...attributes>

	<label {{on "click" this.open}}>
		{{#if @value}}
			{{date-format @value this.format}}
		{{else}}
			{{this.default}}
		{{/if}}
		<svg xmlns="http://www.w3.org/2000/svg" width="300px" height="250px" viewBox="0 0 300 250">
			<polygon transform="translate(150.500000, 125.500000) scale(1, -1) translate(-150.500000, -125.500000)" points="150.5 84 259 167 42 167"></polygon>
		</svg>
	</label>

	{{#if this.display}}

		{{#in-element this.document.body insertBefore=null}}

			<app-calendar-popup>

				<app-calendar-cover role="button" {{on "click" this.close}} />

				<app-calendar-front {{did-insert this.popup}} {{style marginTop=this.top marginLeft=this.left}}>

					<Ascua::Calendar::Navs @calendar={{this}} />
					<Ascua::Calendar::Days @calendar={{this}} />

				</app-calendar-front>

			</app-calendar-popup>

		{{/in-element}}

	{{/if}}

</app-calendar>